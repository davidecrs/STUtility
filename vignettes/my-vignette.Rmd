---
title: "STUtility - A  Utility tool from the original Spatial Transcriptomics Research group"
date: ""
author: 
- Joseph BergenstrÃ¥hle, Royal Institute of Technology (KTH)
- Ludvig Larsson, Royal Institute of Technology (KTH)
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{STUtility vignette}
  %\VignetteEngine{knitr::rmarkdown}
  \usepackage[utf8]{inputenc}
---

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>"
)

# devtools::build_vignettes()
```

```{r setup}
library(STutility)

```


Introduction
============

STUtility is an Rpackage which includes various R-functions for interaction and analysis of Spatial Transcriptomics (ST) data. During the years of internal development of the ST method, the research group at SciLifeLab has used a vast array of R functions in their daily work. As the method is becoming widely adopted 


Usage example
=============

In this example, we use an info.table sheet to load in our samples togheter with meta data. The table looks like this:

```{r, echo=FALSE}

abs.path <- system.file("extdata", package = "STutility")

```

```{r}

infoTable <- read.table(paste(abs.path, "metaData.csv", sep="/"), sep=";", header=T)

head(infoTable)
```

Paths to the samples in the first column, and any number of additional (optional) metadata in the following columns.

With the info table as input, we create the S4 object which contains all the samples as well as meta data. 

```{r, echo=FALSE}
fix <-list.files(system.file("extdata/counts/", package = "STutility"), full.names = T)

infoTable[,1] <- fix
```

```{r}

cm <- prepare.counts(sampleTable=infoTable, transpose=T, topN=0, th.gene=0, th.spot=0, type="Seurat")

```



```{r}

cm

```




